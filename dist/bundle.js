(()=>{"use strict";var e,t,n,c,o,a;o=document.getElementById("callback"),a=document.querySelector(".modal-overlay"),document.querySelector("body").addEventListener("click",(function(e){var t=e.target;t.matches(".callback-btn")||t.matches(".button-services")||t.matches('[href="#application"]')?(o.style.display="block",a.style.display="block"):(t.closest(".modal-close")||t.matches(".modal-overlay"))&&(o.style.display="none",a.style.display="none")})),function(){document.querySelector(".header").addEventListener("click",(function(t){t.target.matches("a")&&e(t)}));var e=function(e){e.preventDefault();var t=e.target.getAttribute("href"),n=document.querySelector(t).getBoundingClientRect().top;window.scrollBy({top:n,behavior:"smooth"})}}(),n=document.querySelector(".up"),c=document.getElementById("services"),n.addEventListener("click",(function(){var e=document.querySelector("body").getBoundingClientRect().top;window.scrollBy({top:e,behavior:"smooth"})})),document.addEventListener("scroll",(function(){var e=c.getBoundingClientRect().top;n.style.display=e<16?"block":"none"})),e=document.querySelector(".accordeon"),t=e.querySelectorAll(".element"),e.addEventListener("click",(function(e){var n=e.target.closest(".element");t.forEach((function(e){e.classList.remove("active"),e.querySelector(".element-content").style.display="none"})),n.classList.add("active"),n.querySelector(".element-content").style.display="block"})),function(){var e=document.querySelector('[name="form-callback"]'),t=document.createElement("div");e.addEventListener("submit",(function(c){c.preventDefault();var o=!1;if(e.querySelectorAll("input").forEach((function(e){e.matches('[name="tel"]')&&!e.value.match(/^\+?([78])?\d{6,10}$/)||e.matches('[name="fio"]')&&!e.value.match(/^[\t-\r \xA0\u0410-\u044F\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000\uFEFF]{2,}$/g)||(o=!0)})),o){e.appendChild(t),t.textContent="Идет отправка...";var a=new FormData(e);n(a).then((function(n){if(200!==n.status)throw new Error("status network is not 200");t.textContent="Заявка успешно отправлена",e.querySelectorAll("input").forEach((function(e){"submit"!=e.type&&(e.value="")}))})).catch((function(e){t.textContent="Произошла ошибка",console.error(e)}))}else t.textContent="Введите корректные данные"}));var n=function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}}(),function(){var e=document.querySelector(".top-slider"),t=document.querySelectorAll(".item"),n=document.createElement("ul");n.classList.add("slider-dots"),e.append(n),t.forEach((function(e){var t=document.createElement("li");t.classList.add("dot"),e.classList.contains("active")&&t.classList.add("active"),n.append(t)}));var c=document.querySelectorAll(".dot");n.addEventListener("click",(function(e){var n=e.target;n.matches(".dot")&&(a(t,l,"active"),a(c,l,"active"),n.matches(".dot")&&c.forEach((function(e,t){e===n&&(l=t)})),l>=t.length&&(l=0),l<0&&(l=t.length-1),r(t,l,"active"),r(c,l,"active"))}));var o,a=function(e,t,n){e[t].classList.remove(n)},r=function(e,t,n){e[t].classList.add(n)},l=0,i=function(){a(t,l,"active"),a(c,l,"active"),++l>=t.length&&(l=0),r(t,l,"active"),r(c,l,"active")},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;o=setInterval(i,e)};n.addEventListener("mouseover",(function(e){e.target.matches(".dot")&&clearInterval(o)})),n.addEventListener("mouseout",(function(e){e.target.matches(".dot")&&s()})),s()}()})();